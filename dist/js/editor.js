!function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=3)}({3:function(e,t,a){e.exports=a("pNZs")},pNZs:function(e,t,a){"use strict";function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.r(t);var r=wp.data,n=r.withSelect,l=r.withDispatch,i=wp.compose.compose,u=wp.components.SelectControl,c=wp.i18n.__,d=i(l(function(e,t){return{setMetaFieldValue:function(a){e("core/editor").editPost({meta:o({},t.fieldName,a)})}}}),n(function(e,t){return{metaFieldValue:e("core/editor").getEditedPostAttribute("meta")[t.fieldName]}}))(function(e){return React.createElement(u,{label:c("Page Layout"),value:e.metaFieldValue,options:[{label:c("Default"),value:"default"},{label:c("Full (No Sidebar)"),value:"full"},{label:c("Sidebar on Right"),value:"right"},{label:c("Sidebar on Left"),value:"left"}],onChange:function(t){e.setMetaFieldValue(t)}})});function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m=wp.compose.compose,p=wp.data,f=p.withSelect,b=p.withDispatch,g=wp.components.SelectControl,h=wp.i18n.__,v=m(b(function(e,t){return{setMetaFieldValue:function(a){e("core/editor").editPost({meta:s({},t.fieldName,a)})}}}),f(function(e,t){return{metaFieldValue:e("core/editor").getEditedPostAttribute("meta")[t.fieldName]}}))(function(e){return React.createElement(g,{label:h("Post Title"),value:e.metaFieldValue,options:[{label:h("Show in Content"),value:"content"},{label:h("Show in Custom Header"),value:"header"},{label:h("Hide"),value:"hide"}],onChange:function(t){e.setMetaFieldValue(t)}})});function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=wp.compose.compose,w=wp.data,P=w.withSelect,S=w.withDispatch,V=wp.components.SelectControl,E=wp.editor,F=E.MediaUpload,R=E.PostTypeSupportCheck,C=wp.i18n.__,N=wp.hooks.doAction,M=_(S(function(e,t){return{setMetaFieldValue:function(a){e("core/editor").editPost({meta:y({},t.fieldName,a)})},setSelectValue:function(a){e("core/editor").editPost({meta:{taproot_custom_header_image_type:a}}),"custom"!==a&&e("core/editor").editPost({meta:y({},t.fieldName,"")})}}}),P(function(e,t){var a=e("core").getMedia,o=e("core/editor").getEditedPostAttribute,r=0;return o("featured_media")&&(r=a(o("featured_media"))),{metaFieldValue:e("core/editor").getEditedPostAttribute("meta")[t.fieldName],featuredImage:r,selectValue:e("core/editor").getEditedPostAttribute("meta").taproot_custom_header_image_type}}))(function(e){var t=React.createElement(R,{supportKeys:"thumbnail"},React.createElement(V,{label:C("Custom Header Image"),value:e.selectValue,options:[{label:C("None"),value:"none"},{label:C("Default"),value:"default"},{label:C("Use Featured Image"),value:"featured"},{label:C("Custom"),value:"custom"}],onChange:function(t){e.setSelectValue(t)}})),a=function(){var t=!1;if("featured"===e.selectValue?e.featuredImage&&(t=e.featuredImage.source_url):"default"===e.selectValue?"undefined"!=typeof taprootDefaultHeaderImage&&(t=taprootDefaultHeaderImage):"custom"===e.selectValue&&e.metaFieldValue&&(t=e.metaFieldValue),N("taproot.plugin.headerImageChange",t),t)return React.createElement("div",{className:"media-preview-wrapper"},React.createElement("img",{src:t,class:"media-preview"}))},o=function(t){if("custom"===e.selectValue)return React.createElement("button",{class:"components-button is-button is-default",style:{marginRight:"10px"},onClick:t},C("Select Image"))},r="custom"===e.selectValue&&e.metaFieldValue?React.createElement("button",{class:"components-button is-button is-default",onClick:function(){e.setMetaFieldValue("")}},C("Clear")):null;return React.createElement(F,{type:"image",label:C("Custom Header Image"),value:e.metaFieldValue,onSelect:function(t){t.sizes&&e.setMetaFieldValue(t.sizes.full.url)},render:function(e){var n=e.open;return[t,a(),o(n),r]}})});!function(e){var t=e.editPost,a=t.PluginSidebar,o=t.PluginSidebarMoreMenuItem,r=e.plugins.registerPlugin,n=e.element.Fragment,l=e.components.PanelBody,i=e.i18n.__,u=e.editor.PostTypeSupportCheck,c=e.hooks,s=c.applyFilters,m=c.addFilter,p=c.doAction;m("taproot.plugin.hook","skyshab/taproot/layout",function(e){return[e,React.createElement(d,{fieldName:"taproot_page_layout"})]},10),m("taproot.plugin.hook","skyshab/taproot/postTitle",function(e){return[e,React.createElement(v,{fieldName:"taproot_post_title_display"})]},20),m("taproot.plugin.hook","skyshab/taproot/customHeader",function(e){return[e,React.createElement(M,{fieldName:"taproot_custom_header_image"})]},30),p("taproot.plugin.defaultsLoaded"),r("tr-theme-sidebar",{render:function(){return React.createElement(u,{supportKeys:"custom-fields"},React.createElement(n,null,React.createElement(o,{target:"taproot-theme-sidebar",icon:"carrot"},i("Taproot Theme Settings")),React.createElement(a,{name:"taproot-theme-sidebar",className:"taproot-theme-sidebar",icon:"carrot",title:i("Taproot Page Settings")},React.createElement(l,null,s("taproot.plugin.hook")))))}})}(window.wp)}});