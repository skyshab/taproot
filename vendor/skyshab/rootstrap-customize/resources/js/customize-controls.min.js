"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var RootstrapCustomize=function(){function e(){if(_classCallCheck(this,e),this.api=wp.customize,!this.api)return!1;this.devices=rootstrapData.devices,this.initializeNavLinks(),this.initializeDeviceLinks(),this.bindDevices()}return _createClass(e,[{key:"getDeviceList",value:function(){return Object.keys(this.devices)}},{key:"bindDevices",value:function(){var e=this.api,i=this.getDeviceList();e.section.each(function(t){var n=t.params.type;i.forEach(function(i){n&&n==="rootstrap-device--".concat(i)&&t.expanded.bind(function(){e.previewedDevice.set(i)})})})}},{key:"initializeNavLinks",value:function(){var e=this.api;document.querySelectorAll(".rootstrap-nav-link").forEach(function(i){var t=i.dataset.section;i.addEventListener("click",function(i){e.section(t)&&e.section(t).focus()})})}},{key:"initializeDeviceLinks",value:function(){var e=this.api;document.querySelectorAll(".rootstrap-nav-link").forEach(function(i){var t=i.dataset.device;i.addEventListener("click",function(i){t&&e.previewedDevice.set(t)})})}}]),e}();wp.customize.bind("ready",function(){new RootstrapCustomize});