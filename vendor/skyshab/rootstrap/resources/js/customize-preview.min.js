"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Styles=function(){function e(t){if(_classCallCheck(this,e),!t.id||!t.selector)return!1;this.screen=t.screen,this.id=this.screen?"".concat(t.id,"--").concat(t.screen):t.id,this.selector=t.selector,this.styles=t.styles,this.insertStyleblock()}return _createClass(e,[{key:"insertStyleblock",value:function(){var e=document.getElementById(this.id);e?e.innerHTML=this.getStyleBlockContent():document.head.insertBefore(this.getStyleBlock(),this.getHook())}},{key:"openQuery",value:function(){if(!this.screen)return"";var e=parent.rootstrapData.screens[this.screen],t="";return(e.min||e.max)&&(t+="@media ",e.min&&(t+="(min-width: ".concat(e.min,")"),e.max&&(t+=" and ")),e.max&&(t+="(max-width: ".concat(e.max,")")),t+="{"),t}},{key:"getStyles",value:function(){for(var e=this.selector+"{",t=Object.entries(this.styles),n=0;n<t.length;n++){var r=_slicedToArray(t[n],2),i=r[0],o=r[1];i&&o&&(e+="".concat(i,": ").concat(o,";"))}return e+="}"}},{key:"closeQuery",value:function(){return this.screen?"}":""}},{key:"getStyleBlockContent",value:function(){return this.openQuery()+this.getStyles()+this.closeQuery()}},{key:"getStyleBlock",value:function(){var e=document.createElement("style");return e.setAttribute("id",this.id),e.textContent=this.getStyleBlockContent(),e}},{key:"getHook",value:function(){var e=this.screen?this.screen:"default";return document.getElementById("rootstrap-style-hook--"+e)}}]),e}(),CustomProperty=function(){function e(t){if(_classCallCheck(this,e),!t.name)return!1;this.screen=t.screen,this.name=t.name,this.id=this.screen?"".concat(t.name,"--").concat(t.screen):t.name,t.value&&""!==t.value?(this.value=t.value,this.insertStyleblock()):this.removeStyleblock()}return _createClass(e,[{key:"insertStyleblock",value:function(){var e=document.getElementById(this.id);e?e.innerHTML=this.getStyleBlockContent():document.head.insertBefore(this.getStyleBlock(),this.getHook())}},{key:"removeStyleblock",value:function(){var e=document.getElementById(this.id);e&&e.remove()}},{key:"openQuery",value:function(){if(!this.screen)return"";var e=parent.rootstrapData.screens[this.screen],t="";return(e.min||e.max)&&(t+="@media ",e.min&&(t+="(min-width: ".concat(e.min,")"),e.max&&(t+=" and ")),e.max&&(t+="(max-width: ".concat(e.max,")")),t+="{"),t}},{key:"getStyles",value:function(){if(!this.name||!this.value)return"";var e=":root {";return e+="--".concat(this.name,": ").concat(this.value,";"),e+="}"}},{key:"closeQuery",value:function(){return this.screen&&"default"!==this.screen?"}":""}},{key:"getStyleBlockContent",value:function(){return this.openQuery()+this.getStyles()+this.closeQuery()}},{key:"getStyleBlock",value:function(){var e=document.createElement("style");return e.setAttribute("id",this.id),e.textContent=this.getStyleBlockContent(),e}},{key:"getHook",value:function(){var e=this.screen?this.screen:"default";return document.getElementById("rootstrap-style-hook--"+e)}}]),e}(),rootstrap={screens:function(){return Object.entries(parent.rootstrapData.screens)},style:function(e){new Styles(e)},customProperty:function(e){new CustomProperty(e)}};